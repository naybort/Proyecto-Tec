
@{
ViewBag.Title = "Calendario";
Layout = "~/Views/Shared/_Principal.cshtml";
}


<meta charset='utf-8' />

<body>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        var calendarEl = document.getElementById('calendar');
        var profesor = "Jose Pablo Castillo Halabí";

        var calendar = new FullCalendar.Calendar(calendarEl, {
            plugins: ['interaction', 'dayGrid', 'timeGrid'],
            header: {
                left: 'prev,next today',
                center: 'title',
                right: 'dayGridMonth,timeGridWeek,timeGridDay'
            },
            defaultDate: '2019-04-12',
            navLinks: true, // can click day/week names to navigate views
            selectable: true,
            selectMirror: true,
            select: function (arg) {
                $("#exampleModalLabel").text("usted está a punto de reservar una cita para la fecha: " + arg.start.getDate() + "-" + arg.start.getMonth() + "-" + arg.start.getFullYear() + ", con el profesor: " + profesor);
                $("#exampleModal").modal();
                $("#exampleModal").on('hidden.bs.modal', function () {
                    calendar.addevent({
                        title: "reservado",
                        start: arg.start,
                        end: arg.end,
                        allday: arg.allday
                    })
                    calendar.unselect();
                });

            },

            editable: true,
            eventLimit: true, // allow "more" link when too many events
        });

        calendar.render();
    });

    function reserva() {
        $('#exampleModal').modal("hide");
    }
</script>

<style>


body {
    margin: 40px 10px;
    padding: 0;
    font-family: Arial, Helvetica Neue, Helvetica, sans-serif;
    font-size: 14px;
}

#calendar {
    max-width: 900px;
    margin: 20px;
}
</style>


<div id='calendar'></div>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
<div class="modal-dialog" role="document">
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel"></h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
            <select class="browser-default custom-select">
                <option selected>Seleccione una hora</option>
                <option value="1">1:00 pm</option>
                <option value="2">1:20 pm</option>
                <option value="3">1:40 pm</option>
                <option value="3">2:00 pm</option>
                <option value="3">2:20 pm</option>
                <option value="3">2:40 pm</option>
            </select>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
            <button type="button" class="btn btn-primary" onclick="reserva()">Reservar</button>
        </div>
    </div>
</div>
</div>
